!function(e){var t={};function r(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=336)}({336:function(module,exports,__webpack_require__){(function(module){var enterModule;function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function asyncGeneratorStep(e,t,r,o,n,a,c){try{var u=e[a](c),i=u.value}catch(e){return void r(e)}u.done?t(i):Promise.resolve(i).then(o,n)}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var a=e.apply(t,r);function c(e){asyncGeneratorStep(a,o,n,c,u,"next",e)}function u(e){asyncGeneratorStep(a,o,n,c,u,"throw",e)}c(void 0)}))}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},DomProduct={productDescription:document.getElementById("product-details"),productInfo:document.getElementById("template-product"),showProductDetails:function(){var _showProductDetails=_asyncToGenerator(regeneratorRuntime.mark((function _callee(productId){var firstProperty,queryStr,urlStr,urlItem,productDetails,template,item,button;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return firstProperty="",queryStr=window.location.search,urlStr=new URLSearchParams(queryStr),urlItem=ProductApi.idUrl(productId),_context.next=6,ProductApi.getProducts(urlItem);case 6:productDetails=_context.sent,template=document.importNode(DomProduct.productInfo.content,!0),item=template.getElementById("product-information"),productTitle=template.getElementById("product-title"),productTitle.innerHTML=urlStr.get("type")+" "+productDetails.name,productImage=template.getElementById("product-image"),productImage.src=productDetails.imageUrl,productImage.alt="Image de "+urlStr.get("type")+" "+productDetails.name,productImage.title=urlStr.get("type")+" "+productDetails.name,productSubtitle=template.getElementById("product-subtitle"),productSubtitle.innerHTML=productDetails.name,productRef=template.getElementById("product-ref"),productRef.innerHTML="Ref. n° "+productDetails._id,productDesc=template.getElementById("product-desc"),productDesc.innerHTML=productDetails.description,productPrice=template.getElementById("product-price"),productPrice.innerHTML="Prix : "+new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(productDetails.price/100),button=document.getElementById("add-btn"),DomProduct.productDescription.appendChild(template),_context.t0=urlStr.get("type"),_context.next="teddies"===_context.t0?28:"cameras"===_context.t0?30:"furniture"===_context.t0?32:34;break;case 28:return firstProperty="colors",_context.abrupt("break",34);case 30:return firstProperty="lenses",_context.abrupt("break",34);case 32:return firstProperty="varnish",_context.abrupt("break",34);case 34:DomProduct.getAllOptions(firstProperty,productDetails),DomProduct.setQuantity(),document.getElementById("add-btn").addEventListener("click",(function(event){var cartProductNumber=JSON.parse(localStorage.getItem("cart")),Line=function(){function Line(e,t,r,o,n,a){_classCallCheck(this,Line),this.param=e,this.imgUrl=t,this.name=r,this.id=o,this.quantity=n,this.price=a}return _createClass(Line,[{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),Line}();if(null===cartProductNumber)cart=[],firstAddProduct=new Line(urlStr.get("type"),productDetails.imageUrl,productDetails.name,productDetails._id,parseInt(quantitySelect.value),productDetails.price),cart.push(firstAddProduct),localStorage.setItem("cart",JSON.stringify(cart)),alert("Produit ajouté au panier !"),location.reload();else{for(var k in productAlreadyAdded=!1,cartProductNumber)cartProductNumber[k].id===productDetails._id&&(productAlreadyAdded=!0,cartProductNumber[k].quantity=parseInt(cartProductNumber[k].quantity)+parseInt(quantitySelect.value),alert("Quantité modifiée !"),location.reload());productAlreadyAdded||(cartProductNumber.push(new Line(urlStr.get("type"),productDetails.imageUrl,productDetails.name,productDetails._id,parseInt(quantitySelect.value),productDetails.price)),alert("Produit ajouté au panier !"),location.reload()),localStorage.setItem("cart",JSON.stringify(cartProductNumber))}}));case 37:case"end":return _context.stop()}}),_callee)})));function showProductDetails(e){return _showProductDetails.apply(this,arguments)}return showProductDetails}(),getAllOptions:function(e,t){t[e].forEach((function(e,t){optionSelect=document.getElementById("product-options"),optionChoice=document.createElement("option"),optionValue=document.createTextNode(e),optionChoice.appendChild(optionValue),optionSelect.appendChild(optionChoice)}))},setQuantity:function(){var e=0;for(quantitySelect=document.getElementById("product-quantity");e<=8;)e++,option=document.createElement("option"),option.textContent=e,option.value=e,quantitySelect.appendChild(option)}},reactHotLoader,leaveModule;window.onload=DomProduct.showProductDetails(),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(DomProduct,"DomProduct","/home/jeremyboisdur/Bureau/developpement-web/js-improvement/assets/js/product.js"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(52)(module))},52:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}}});