!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=336)}({336:function(module,exports,__webpack_require__){(function(module){var enterModule;function asyncGeneratorStep(e,t,r,n,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){asyncGeneratorStep(a,n,o,i,c,"next",e)}function c(e){asyncGeneratorStep(a,n,o,i,c,"throw",e)}i(void 0)}))}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},Line=function(){function Line(e,t,r,n,o,a){_classCallCheck(this,Line),this.param=e,this.imgUrl=t,this.name=r,this.id=n,this.quantity=o,this.price=a}return _createClass(Line,[{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),Line}(),DomProduct={productDescription:document.getElementById("product-details"),productInfo:document.getElementById("template-product"),showProductDetails:(_showProductDetails=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n,o,a,i,c,u,d,l,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="",n=window.location.search,o=new URLSearchParams(n),a=ProductApi.idUrl(t),e.next=6,ProductApi.getProducts(a);case 6:for(i=e.sent,(c=document.importNode(DomProduct.productInfo.content,!0)).getElementById("product-information"),c.getElementById("product-title").innerHTML=o.get("type")+" "+i.name,(u=c.getElementById("product-image")).src=i.imageUrl,u.alt="Image de "+o.get("type")+" "+i.name,u.title=o.get("type")+" "+i.name,c.getElementById("product-subtitle").innerHTML=i.name,c.getElementById("product-ref").innerHTML="Ref. n° "+i._id,c.getElementById("product-desc").innerHTML=i.description,d=c.getElementById("product-quantity"),l=1;l<=8;l++)(s=document.createElement("option")).textContent=l,s.value=l,d.appendChild(s);c.getElementById("product-price").innerHTML="Prix : "+new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(i.price/100),document.getElementById("add-btn"),DomProduct.productDescription.appendChild(c),e.t0=o.get("type"),e.next="teddies"===e.t0?30:"cameras"===e.t0?32:"furniture"===e.t0?34:36;break;case 30:return r="colors",e.abrupt("break",36);case 32:return r="lenses",e.abrupt("break",36);case 34:return r="varnish",e.abrupt("break",36);case 36:DomProduct.getAllOptions(r,i),document.getElementById("add-btn").addEventListener("click",(function(e){var t=JSON.parse(localStorage.getItem("cart")),r=document.getElementById("toast");if(null===t)cart=[],firstAddProduct=new Line(o.get("type"),i.imageUrl,i.name,i._id,parseInt(d.value),i.price),cart.push(firstAddProduct),localStorage.setItem("cart",JSON.stringify(cart)),r.innerHTML="Produit ajouté au panier !",r.className="show",document.getElementById("cart-num").innerHTML="( 1 )",setTimeout((function(){r.className=r.className.replace("show","")}),3e3);else{for(var n in productAlreadyAdded=!1,t)t[n].id===i._id&&(productAlreadyAdded=!0,t[n].quantity=parseInt(t[n].quantity)+parseInt(d.value),r.innerHTML="Quantité modifiée !",r.className="show",document.getElementById("cart-num").innerHTML="( "+t.length+" )",setTimeout((function(){r.className=r.className.replace("show","")}),3e3));productAlreadyAdded||(t.push(new Line(o.get("type"),i.imageUrl,i.name,i._id,parseInt(d.value),i.price)),r.innerHTML="Produit ajouté au panier !",r.className="show",document.getElementById("cart-num").innerHTML="( "+t.length+" )",setTimeout((function(){r.className=r.className.replace("show","")}),3e3)),localStorage.setItem("cart",JSON.stringify(t))}}));case 38:case"end":return e.stop()}}),e)}))),function(e){return _showProductDetails.apply(this,arguments)}),getAllOptions:function(e,t){t[e].forEach((function(e,t){var r=document.getElementById("product-options"),n=document.createElement("option"),o=document.createTextNode(e);n.appendChild(o),r.appendChild(n)}))}},_showProductDetails,reactHotLoader,leaveModule;window.onload=DomProduct.showProductDetails(),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(Line,"Line","/home/jeremyboisdur/Bureau/developpement-web/js-improvement/assets/js/product.js"),reactHotLoader.register(DomProduct,"DomProduct","/home/jeremyboisdur/Bureau/developpement-web/js-improvement/assets/js/product.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(43)(module))},43:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}}});